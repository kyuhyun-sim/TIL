docker는 동명의 회사에서 개발하고 있는 경량 가상화 기술인 리눅스 컨테이너를 구현하는 애플리케이션이다.
일반적으로 애플리케이션을 가상화하는 경우 virtualBox나 VMWare 등을 활용해 하드웨어부터 가상화를 하지만, Docker를 사용하면 실행하고자하는 프로세스만 격리된 환경에서 실행하는 것이 가능하다.
이를 이용해 손쉽게 프로세스를 격리할 수 있을 뿐만 아니라, 격리된 환경을 이미지로 만들어서 Docker 만 돌아간다면 어디서든 똑같이 동작하는 컨테이너를 만들 수 있다.

JSON Web Token(JWT)
웹 표준으로서 두 개체에서 JSON 객체를 사용하여 가볍고 자가수용적인 방식으로 정보를 안정성 있게 전달해준다.
자가수용적인 트징을 가지고 있어 필요한 모든 정보를 자체적으로 지니고 있따.
시스템에서 발급된 토큰은 토큰에 대한 기본정보와 전달할 정보, 그리고 토큰이 검증됐다는 것을 증명해주는 signature를 포함하고 있다.
또한 이 특성으로 인해 두 개체 사이에서 손쉽게 전달 될 수 있다.

jwt는 .을 구분자로 3가지 문자열로 구성되어 있다.
각각 header, payload, signature로 구분할 수 있다.
먼저 header의 경우 typ과 alg 키가 존재하는데 type은 JWT 값을 가지고 있으며, alg의 경우 해싱 알고리즘으로 보통 HMAC SHA256이나 RSA가 사용된다.
이 알고리즘은 토큰을 검증할 때 사용되는 signature 부분에서 사용된다.
이런정보들을 base64로 이ㄴ코딩 해주면 jwt토큰으니 header가 완성된다.

payload의 경우 토큰에 담을 정보가 담겨 있다.
여기에 담는 정보의 한 조각을 클레임이라고 부르며 이는 name/value의 한쌍으로 이루어져 있다.
토큰에는 여러개의 클레임들을 넣을 수 있다.
이 클레임의 종류는 크게 세분류로 나눌수 있는데 각각 registered 클레임, public 클레임, private 클레임으로 나눠진다.

먼저 registered 클레임의 경우 서비스에서 필요한 정보들이 아닌, 토큰에 대한 정보들을 담기위하여 이름이 이미 정해진 클레임 들이다.
등록된 클레임의 사용은 모두 선택사항이며 이에 포함된 클레임 이름들을 아래와 같다.

iss: 토큰 발급자 (issuer)
sub: 토큰 제목
aud: 토큰 대상자
exp: 토큰 만료시간. 시간은 NumericDate 형식으로 되어있어야 하며 언제나 현재 시간보다 이후로 설정되어 있어야 한다.
nbf: Not Before를 의미하며 토큰의 활성날짜와 비슷한 개념이다. 이 클레임 역시 NumericDate 형식으로 날짜를 지정하며 이 날짜가 지나기 전까지는 토큰이 처리되지 않는다.
iat: 토큰이 발급된 시간, 이 값을 사용하여 토큰의 age가 얼마나 되었는지 판단할 수 있따.
jti: JWT의 고유 식별자로서, 주로 중복적인 처리를 방지하기 위해 사용된다. 일회용 토큰에 사용하면 유용하다고 한다.

public 클레임의 경우 충돌이 방지된 이름을 가지고 이ㅆ어야 한다.
충돌을 방지ㅏ기 위해 클레임의 이름을 url 형식으로 짓는다.

private 클레임의 경우 두 개체간의 협의하에 사용되는 클레임 이름으로 공개 클레임과 달리 이름이 중복되어 충돌될 수 있기에 사용할때 유의해야한다.

signature
헤더의 인코딩값과 정보의 인코딩값을 합친후 주어진 비밀키로 해쉬를 하여 생성해준다.
이때 base64 형태로 만들어주며 문자열을 인코딩하는게 아닌hex 를 base64로 인코딩해줘야한다.

curl -X POST -u example --data-binary @${ROOT.war 경로} https://example.net/api/example
